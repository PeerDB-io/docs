---
title: "ClickHouse Setup Guide"
---

1. Create a separate database for the ClickHouse peer called peerdb. This is where tables will be auto-created and synced by PeerDB.
```sql
   CREATE DATABASE peerdb;
```
2. Create a Clickhouse user for PeerDB with permissions:
```sql
CREATE USER peerdb_user IDENTIFIED BY '<password>';

GRANT CURRENT GRANTS ON *.* TO peerdb_user;
```
3. ClickHouse has several ports exposed, and PeerDB requires to use a port that exposes the `ClickHouse native protocol` which by default is `9440` for the secure TLS-enabled port and `9000` for the non-TLS port. If the default ports have been changed, please adjust them accordingly.
<Warning>
We do not recommend using the non-TLS enabled port for ClickHouse. If this is needed, please also check the `Disable TLS?` option.
</Warning>
4. If you are using PeerDB OSS, we use MinIO as the internal transient stage. You might need to adjust your firewall rules to allow connections from ClickHouse to MinIO. In [PeerDB Cloud](https://app.peerdb.cloud/), we abstract all of this from you. If you run into issues, please reach out to support@peerdb.io or join our Slack [channel](https://join.slack.com/t/peerdb-public/shared_invite/zt-1wo9jydev-EXInbMtCtpAKFFWdi7QvLQ). 
5. Create the ClickHouse Peer through UI
    <Frame caption="Choose PostgreSQL Peer">
    <img src="/images/setup/clickhouse/clickhousepeer.png" />
    </Frame>
    Enter all the details `Name`, `Host`, `Port` (as determined above), `User`, `Password` and `Database` along with S3 credentials to setup the peer.
